<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0064)https://sites.google.com/site/oliverwoodford/software/export_fig -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var a=window,b="start";function e(d){this.t={};this.tick=function(d,g,c){c=void 0!=c?c:(new Date).getTime();this.t[d]=[c,g]};this.tick(b,null,d)}var f=new e;a.jstiming={Timer:e,load:f};try{var h=null;a.chrome&&a.chrome.csi&&(h=Math.floor(a.chrome.csi().pageT));null==h&&a.gtbExternal&&(h=a.gtbExternal.pageT());null==h&&a.external&&(h=a.external.pageT);h&&(a.jstiming.pt=h)}catch(i){}; })()
</script>
<link rel="shortcut icon" type="image/x-icon" href="https://www.google.com/images/icons/product/sites-16.ico">
<link rel="apple-touch-icon" href="https://ssl.gstatic.com/sites/p/fe8397/system/app/images/apple-touch-icon.png" type="image/png">
<script type="text/javascript">/* Copyright 2008 Google. */ (function() { var e=parseInt,h=window,i="length",j="",k=" ",l=' style="width:',m='" ',n='"></span>',o="', sizingMethod='scale');\"></span><span style=\"padding: ",p="6.0",q=";",r=";padding: 0;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='",s="<span ",t="MSIE",u="__duration__",v='class="',w="cursor:hand;",x="display:inline-block;",y="float:",z="float:left;",A="float:right;",B="function",C='id="',D="left",E="px;",F="px; height:",G="right",H="string",I='title="';
function J(c){return document.getElementById(c)}h.byId=J;function K(c){return c.replace(/^\s+|\s+$/g,j)}h.trim=K;
h.ie6ImgFix=function(c){var b=h.navigator?navigator.userAgent:j;if(-1!=b.indexOf(t)&&"undefined"==typeof opera){var d=/MSIE\s+([^\);]+)(\)|;)/;d.test(b);b=RegExp.$1;if(b==p){var a=typeof c==H?J(c):c,c=a.id?C+a.id+m:j,b=a.className?v+a.className+m:j,d=a.title?I+a.title+m:I+a.alt+m,f=x+a.style.cssText;a.align==D&&(f=z+f);a.align==G&&(f=A+f);a.parentElement.href&&(f=w+f);var g=a.currentStyle,M=a.width-e(g.paddingLeft,10)-e(g.paddingRight,10),N=a.height-e(g.paddingTop,10)-e(g.paddingBottom,10),O=s+c+
b+d+l+M+F+N+E+f+r+a.src+o+g.paddingTop+k+g.paddingRight+k+g.paddingBottom+k+g.paddingLeft+q+(g.styleFloat?y+g.styleFloat+q:j)+n;h.setTimeout(function(){a.outerHTML=O},1)}}};var L=[],P=0;h.JOT_addListener=function(c,b,d){var a=new String(P++),c={eventName:c,handler:b,compId:d,key:a};L.push(c);return a};h.JOT_removeListenerByKey=function(c){for(var b=0;b<L[i];b++)if(L[b].key==c){L.splice(b,1);break}};h.JOT_removeAllListenersForName=function(c){for(var b=0;b<L[i];b++)L[b].eventName==c&&L.splice(b,1)};
h.JOT_postEvent=function(c,b,d){var a={eventName:c,eventSrc:b||{},payload:d||{}};if(h.JOT_fullyLoaded){b=L[i];for(d=0;d<b&&d<L[i];d++){var f=L[d];f&&f.eventName==c&&(a.listenerCompId=f.compId||j,(f=typeof f.handler==B?f.handler:h[f.handler])&&f(a))}}else h.JOT_delayedEvents.push({eventName:c,eventSrc:b,payload:d})};h.JOT_delayedEvents=[];h.JOT_fullyLoaded=!1;
h.JOT_formatRelativeToNow=function(c,b){var d=((new Date).getTime()-c)/6E4;if(1440<=d||0>d)return null;var a=0;60<=d&&(d/=60,a=2);2<=d&&a++;return b?h.JOT_siteRelTimeStrs[a].replace(u,Math.floor(d)):h.JOT_userRelTimeStrs[a].replace(u,Math.floor(d))}; })()
</script>
<script>


var webspace = {"scottyUrl":"/_/upload","isConsumer":true,"canPublishScriptToAnyone":true,"serverFlags":{"embeddedEditorUrlPrefix":"/docembed","cajaBaseUrl":"//www.gstatic.com/caja","cajaDebugMode":false},"sharingUrlPrefix":"/_/sharing","csiReportUri":"https://gg.google.com/csi","sharingPolicy":"OPENED","analyticsAccountId":"UA-18034219-1","baseUri":"/site/oliverwoodford","name":"oliverwoodford","domain":"defaultdomain","features":{"kixEditorPageType":false,"gdfGadgetInInsertMenu":true,"scottyForTrogImageUpload":false,"pdfEmbedSupport":false,"sketchyEmbed":true,"docosCommenting":false,"useStandardEmbedsInSidebar":false,"canonicalLinkTagInHead":false,"pageLevelPermissions":true,"kixServerSideSave":true,"pageAttachmentsRefactor":true,"dragDropHierarchy":true,"plusOneButtonOptions":true,"myMapsInOnePick":true,"plusOneButton":true,"prepopulateSharing":true,"newDialogUi":true,"customSystemFooter":true,"scottyForFileCabinet":true,"spreadsheetsEmbedLoadRedirect":true,"kennedyUserPref":false,"unlockPageOnEditorClose":true,"ieSevenUnsupportedError":false,"photoAlbumsInOnePick":true,"adSensePromo":true,"scottyForColorsAndFonts":true,"maestroIntegration":true,"kennedyUserContentAreaScrollbar":false,"autoCompleteSearch":false,"scottyForManageSiteAttachments":true,"commonSharingUriChange":false,"editorKeyboardShortcuts":true,"siteChromeDialogs":false,"experimental":{"displayEditorLockExceptions":false},"kennedyUi":false,"plusBadge":false,"dataPropsForEmbeds":true,"kennedyUserPrefOnByDefault":true,"kennedyLight":true,"autoAdjustSitemapSearchDepth":true,"scottyForPageAttachments":true,"htmlEmbed":false,"keyboardShortcuts":true,"siteChromeHeaderDialog":false,"commonSharing":true,"kennedyDeprecationWarning":true,"kixEditorRevertButton":false},"adsensePublisherId":null,"gvizVersion":1,"siteTitle":"Oliver Woodford","pageSharingId":"jotspot_page","plusPageId":"","termsUrl":"http://www.google.com/sites/help/intl/en/terms.html","enableAnalytics":true,"isPublic":true,"plusPageUrl":"","homePath":"/","sharingId":"jotspot","isAdsenseEnabled":true,"adsensePromoClickedOrSiteIneligible":true,"enableAutoComplete":true,"isStartPageEnabled":false,"domainAnalyticsAccountId":""};



webspace.kennedyRequestStateMap = {"1":true,"0":true};



webspace.gadgets = {"isGadgetDirectoryEnabled":true,"baseUri":"/site/oliverwoodford/system/app/pages/gadgets","isGgsRenderingEnabled":true};


webspace.user = {"uid":"","useNewUi":null,"renderMobile":false,"primaryEmail":"guest","sessionIndex":"","namespaceUser":false,"displayNameOrEmail":"guest","namespace":"","hasAdminAccess":false,"guest_":true,"keyboardShortcuts":true,"domain":"","hasWriteAccess":false,"dasherUser":false,"userName":"guest"};

webspace.page = {"canDeleteWebspace":null,"locale":"en","state":"","wuid":"wuid:gx:7a093a4337f70149","pageInheritsPermissions":null,"timeZone":"America/Los_Angeles","properties":{},"type":"text","canChangePath":true,"parentWuid":"wuid:gx:35e999cb048616b8","revision":35,"title":"export_fig","isRtlLocale":false,"bidiEnabled":false,"siteLocale":"en_GB","name":"export_fig","path":"/software/export_fig","isSiteRtlLocale":false,"parentPath":"/software"};
webspace.page.breadcrumbs = [{"title":"Software","dir":"ltr","path":"/site/oliverwoodford/software","deleted":false},{"title":"export_fig","dir":"ltr","path":"/site/oliverwoodford/software/export_fig","deleted":false}];


webspace.editorResources = {
  text: [
    'https://ssl.gstatic.com/sites/p/fe8397/system/js/trog_edit__en.js',
    'https://ssl.gstatic.com/sites/p/fe8397/system/app/css/trogedit.css',
    '/site/oliverwoodford/_/rsrc/1329350472000/system/app/css/editor.css',
    'https://ssl.gstatic.com/sites/p/fe8397/system/js/codemirror.js',
    'https://ssl.gstatic.com/sites/p/fe8397/system/app/css/codemirror_css.css',
    'https://ssl.gstatic.com/sites/p/fe8397/system/app/css/htmleditor.css',
    '/site/oliverwoodford/_/rsrc/1329350472000/system/app/css/camelot/editor-jfk.css'
  ],
  kixpage: [
    'https://ssl.gstatic.com/sites/p/fe8397/system/js/kixembed_editor__en.js',
    'https://ssl.gstatic.com/sites/p/fe8397/system/app/css/kixeditor.css'
  ]
};

var JOT_clearDotPath = 'https://ssl.gstatic.com/sites/p/fe8397/system/app/images/cleardot.gif';


var JOT_userRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];


webspace.siteTemplateId = false;


webspace.page.currentTemplate = {"title":"Web Page","path":"/system/app/pagetemplates/text"};



var JOT_siteRelTimeStrs = ["a minute ago","__duration__ minutes ago","an hour ago","__duration__ hours ago"];

</script>
<script type="text/javascript">
                window.jstiming.load.tick('scl');
              </script>
<meta name="Description" content="Oliver Woodford&#39;s Personal Website">
<style type="text/css">
</style>
<link rel="stylesheet" type="text/css" href="./Document_files/standard-css-simple-ltr-ltr-jfk.css">
<style type="text/css">
          .goog-ws-layout-system-footer {
            background: #EAF3FD;
          }
        </style>
<link rel="stylesheet" type="text/css" href="./Document_files/overlay.css">
<link rel="stylesheet" type="text/css" href="./Document_files/symbolfont.css">
<link rel="stylesheet" type="text/css" href="./Document_files/allthemes-view.css">
<!--[if IE]>
          <link rel="stylesheet" type="text/css" href="/site/oliverwoodford/system/app/css/camelot/allthemes%2die.css" />
        <![endif]-->
<title>export_fig - Oliver Woodford</title>
<script type="text/javascript">
                window.jstiming.load.tick('cl');
              </script>
<link rel="canonical" href="./Document_files/Document.htm"><script src="./Document_files/ga.js"></script></head><link id="apn-null-stylesheet" rel="stylesheet" href="chrome-extension://aaaaoggiphohkihibdkcnhnokmkfmhnj/config/skin/css/containers.css"><iframe id="apn-null-toolbar" src="./Document_files/toolbar.htm" class="apn-toolbar SkipThisFixedPosition" style="top: 0px;"></iframe>
<body xmlns="http://www.google.com/ns/jotspot" id="body" class=" en_GB            ">
<div id="sites-page-toolbar" class="sites-header-divider">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-status" class="sites-status" style="display:none;"><div id="sites-notice" class="sites-notice" role="status" aria-live="assertive"> </div></div>
</div>
<div id="sites-chrome-everything-scrollbar">
<div id="sites-chrome-everything">
<div id="sites-chrome-page-wrapper" style="direction: ltr">
<div id="sites-chrome-page-wrapper-inside">
<div xmlns="http://www.w3.org/1999/xhtml" id="sites-chrome-header-wrapper">
<table id="sites-chrome-header" class="sites-layout-hbox" cellspacing="0">
<tbody><tr class="sites-header-primary-row" id="sites-chrome-header-primary-row">
<td id="sites-header-title">
<div class="sites-header-cell-buffer-wrapper">
<h2>
<a href="https://sites.google.com/site/oliverwoodford/" dir="ltr">Oliver Woodford</a>
</h2>
</div>
</td>
<td class="sites-layout-searchbox">
<div class="sites-header-cell-buffer-wrapper">
<div>
<form id="sites-searchbox-form" action="https://sites.google.com/site/oliverwoodford/system/app/pages/search"><input type="hidden" id="sites-searchbox-scope" name="scope" value="search-site"><input type="text" id="jot-ui-searchInput" name="q" size="20" value="" aria-label="Search this site" autocomplete="off"><div id="sites-searchbox-button-set" class="goog-inline-block"><div role="button" id="sites-searchbox-search-button" class="goog-inline-block jfk-button jfk-button-standard" tabindex="0" style="-webkit-user-select: none; ">Search this site</div></div></form>
</div>
</div>
</td>
</tr>
<tr class="sites-header-secondary-row">
<td colspan="2">
</td>
</tr>
</tbody></table> 
</div> 
<div id="sites-chrome-main-wrapper">
<div id="sites-chrome-main-wrapper-inside">
<table id="sites-chrome-main" class="sites-layout-hbox" cellspacing="0">
<tbody><tr>
<td id="sites-chrome-sidebar-left" class="sites-layout-sidebar-left">
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_2bd" class="sites-embed">
<div class="sites-embed-content sites-sidebar-nav ">
<ul jotid="navList">
<li class="topLevel nav-first"><div dir="ltr" style="padding-left: 19px;"><a href="https://sites.google.com/site/oliverwoodford/home" jotid="wuid:gx:66a1e30f699cf238" class="sites-navigation-link topLevel">Home</a>
</div></li>
<li class="topLevel"><div dir="ltr" style="padding-left: 19px;"><a href="https://sites.google.com/site/oliverwoodford/contact-me" jotid="wuid:gx:7d7308e9688bc42d" class="sites-navigation-link topLevel">Contact me</a>
</div></li>
<li class="topLevel"><div dir="ltr" style="padding-left: 19px;"><a href="https://sites.google.com/site/oliverwoodford/datasets" jotid="wuid:gx:111ff7e5056562cb" class="sites-navigation-link topLevel">Datasets</a>
</div></li>
<li class="topLevel parent" wuid="gx:35e999cb048616b8"><div dir="ltr" style="padding-left: 0px;"><div class="expander"></div><a href="https://sites.google.com/site/oliverwoodford/software" jotid="wuid:gx:35e999cb048616b8" class="sites-navigation-link topLevel">Software</a>
</div><ul>
<li class=""><div class="current-bg" jotid="wuid:gx:7a093a4337f70149" dir="ltr" style="padding-left: 38px;">export_fig
</div></li>
</ul>
</li>
<li class="topLevel"><div dir="ltr" style="padding-left: 19px;"><a href="https://sites.google.com/site/oliverwoodford/system/app/pages/sitemap/hierarchy" jotid="wuid:gx:5dac61fb44d464cb" class="sites-navigation-link topLevel">Sitemap</a>
</div></li>
</ul>
</div>
</div>
</td>
<td id="sites-canvas-wrapper">
<div id="sites-canvas">
<div id="goog-ws-editor-toolbar-container"> </div>
<div xmlns="http://www.w3.org/1999/xhtml" id="title-crumbs" style="">
<a dir="ltr" href="https://sites.google.com/site/oliverwoodford/software">Software</a>‎ &gt; ‎
  </div>
<h3 xmlns="http://www.w3.org/1999/xhtml" id="sites-page-title-header" style="" align="left">
<span id="sites-page-title" dir="ltr">export_fig</span>
</h3>
<div id="sites-canvas-main" class="sites-canvas-main">
<div id="sites-canvas-main-content">
<table xmlns="http://www.w3.org/1999/xhtml" cellspacing="0" class="sites-layout-name-one-column sites-layout-hbox"><tbody><tr><td class="sites-layout-tile sites-tile-name-content-1"><div dir="ltr"><u><b><font size="3">Overview</font></b></u><br>
<br>
Export_fig is a MATLAB function for exporting figures from MATLAB to standard image and document formats nicely. It can be downloaded here: <a href="http://www.mathworks.com/matlabcentral/fileexchange/23629" target="_blank" rel="nofollow">export_fig</a>.<br>
<br>
Exporting a figure from MATLAB the way you want it (hopefully the way it looks on screen), can be a real headache for the unitiated, thanks to all the settings that are required, and also due to some eccentricities (a.k.a. features and bugs) of functions such as print. The first goal of export_fig is to make transferring a plot from screen to document, just the way you expect (again, assuming that's as it appears on screen), a doddle.<br>
<br>
The second goal is to make the output media suitable for publication, allowing you to publish your results in the full glory that you originally intended. This includes embedding fonts, setting image compression levels (including lossless), anti-aliasing, cropping, setting the colourspace, alpha-blending and getting the right resolution.<br>
<br>
Perhaps the best way to demonstrate what export_fig can do is with some examples.<br>
<br>
<u><b><font size="3">Examples</font></b></u><br>
<br>
<b>Visual accuracy </b>- MATLAB's exporting functions, namely saveas and print, change many visual properties of a figure, such as size, axes limits and ticks, and background colour, in unexpected and unintended ways. Export_fig aims to faithfully reproduce the figure as it appears on screen. For example:<br>
<br>
<div style="margin-left:40px"><code>plot(cos(linspace(0, 7, 1000)));</code><br>
<code>set(gcf, 'Position', [100 100 150 150])</code><br>
<code>saveas(gcf, 'test.png')</code><br>
<code>export_fig test2.png</code><br>
</div>
<br>
generates the following:
<table border="0" bordercolor="#888888" cellspacing="0" style="width:100%;border-collapse:collapse;border-color:rgb(136,136,136);border-width:0px">
<tbody>
<tr>
<td style="width:33%;height:270px">
<div style="text-align:center">Figure: <br>
</div>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/fig.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/fig.png"></a></div>
</td>
<td style="width:34%;height:270px">
<div style="text-align:center">&nbsp;test.png:</div>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/plot.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/plot.png" style="width:235px;height:234px"></a></div>
</td>
<td style="width:33%;height:270px">
<div style="text-align:center">&nbsp;test2.png:</div>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/plot2.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/plot2.png"></a></div>
</td>
</tr>
</tbody>
</table>
<div style="text-align:center"><br>
</div>
Note that the size and background colour of test2.png (the output of export_fig) are the same as those of the on screen figure, in contrast to test.png. Of course, if you want want the figure background to be white (or any other colour) in the exported file then you can set this prior to exporting using:<br>
<br>
<div style="margin-left:40px"><code>set(gcf, 'Color', 'w');</code><br>
</div>
<br>
Notice also that export_fig crops and anti-aliases (smooths, for bitmaps only) the output by default. However, these options can be disabled; see the Tips section below for details.<br>
<br>
<b>Resolution</b> - by default, export_fig exports bitmaps at screen resolution. However, you may wish to save them at a different resolution. You can do this using either of two options: <code>-m&lt;val&gt;</code>, where &lt;val&gt; is a positive real number, magnifies the figure by the factor &lt;val&gt; for export, e.g. <code>-m2</code> produces an image double the size (in pixels) of the on screen figure; <code>-r&lt;val&gt;</code>, again where &lt;val&gt; is a positive real number, specifies the output bitmap to have &lt;val&gt; pixels per inch, the dimensions of the figure (in inches) being those of the on screen figure. For example, using:<br><br><div style="margin-left:40px"><span><code>export_fig test.png -m2.5</code></span><br></div><br>on the figure from the example above generates:<br><div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/plot3.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/plot3.png"></a></div><br>
Sometimes you might have a figure with an image in. For example:<br><br><div style="margin-left:40px"><code>imshow(imread('cameraman.tif'))</code><br><code>hold on;<br>plot(0:255, sin(linspace(0, 10, 256))*127+128);</code><br><code>set(gcf, 'Position', [100 100 150 150])</code><br></div><br>generates this figure:<br><div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/fig2.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/fig2.png"></a></div><br>Here the image is displayed in the figure at resolution lower than its native resolution. However, you might want to export the figure at a resolution such that the image is output at its native (i.e. original) size (in pixels). Ordinarily this would require some non-trivial computation to work out what that resolution should be, but export_fig has an option to do this for you. Using:<br><br><div style="margin-left:40px"><code>export_fig test.png -native</code><br><br></div>produces:<br><div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/camera.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/camera.png"></a></div><br>with the image being the size (in pixels) of the original image. Note that if you want an image to be a particular size, in pixels, in the output  (other than its original size) then you can resize it to this size and use the <code>-native</code> option to achieve this.<br><div><br>All resolution options (<code>-m&lt;val&gt;</code>, <code>-q&lt;val&gt;</code> and <code>-native</code>) correctly set the resolution information in PNG and TIFF files, as if the image were the dimensions of the on screen figure.<br>
<br>
<b>Shrinking dots &amp; dashes</b> - when exporting figures with dashed or dotted lines using either the ZBuffer or OpenGL (default for bitmaps) renderers, the dots and dashes can appear much shorter, even non-existent, in the output file, especially if the lines are thick and/or the resolution is high. For example:<br>
<div style="margin-left:40px"><br>
<code>plot(sin(linspace(0, 10, 1000)), 'b:', 'LineWidth', 4); </code><br>
<code>hold on</code><br>
<code>plot(cos(linspace(0, 7, 1000)), 'r--', 'LineWidth', 3);</code><br>
<code>grid on</code><br>
<code>export_fig test.png</code><br>
<br>
</div>
generates:<br>
<div style="display:block;margin-right:auto;margin-left:auto;text-align:center"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/test.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/test.png"></a><br>
<div style="text-align:left"><br>
This problem can be overcome by using the painters renderer. For example:<br>
</div>
<div style="text-align:left"><br>
</div>
<div style="margin-left:40px;text-align:left"><code>export_fig test.png -painters</code><br>
</div>
<br>
<div style="text-align:left">used on the same figure generates:<br>
</div>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/test2.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/test2.png"></a></div>
<div style="text-align:left"><br>
Note that not only are the plot lines correct, but the grid lines are too.<br>
<br>
<b>Transparency </b>- sometimes you might want a figure and axes' backgrounds to be transparent, so that you can see through them to a document (for example a presentation slide, with coloured or textured background) that the exported figure is placed in. To achieve this, first (optionally) set the axes' colour to 'none' prior to exporting, using:<br>
<br><div style="margin-left:40px">
<code>set(gca, 'Color', 'none');</code><code> % Sets axes background</code><br><br></div>then use export_fig's <code>-transparent</code> option when exporting:<br><br><div style="margin-left:40px"><span><code>export_fig test.png -transparent</code></span><br></div></div><div style="text-align:left">
<br>
This will make the background transparent in PDF, EPS and PNG outputs. You can additionally save fully alpha-blended<b> </b>semi-transparent patch objects to the PNG format. For example:<br>
<br>
<div style="margin-left:40px"><code>logo</code><br>
<code>alpha(0.5)</code><br>
</div>
<br>
generates a figure like this:<br>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/logo.png?attredirects=0" imageanchor="1"></a>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/logo.png.jpg?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/logo.png.jpg"></a></div><br>
</div>
</div>
<div style="text-align:left">If you then export this to PNG using the <code>-transparent</code> option<code> </code>you can then put the resulting image into, for example, a presentation slide with fancy, textured background, like so:<br>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/overlay.png?attredirects=0" imageanchor="1"><img border="0" height="375" src="./Document_files/overlay.png" width="400"></a></div>
<br>
and the image blends seamlessly with the background.<br>
</div>
<div style="text-align:left"><b><br>
Image quality</b> - when publishing images of your results, you want them to look as good as possible. By default, when outputting to lossy file formats (PDF, EPS and JPEG), export_fig uses a high quality setting, i.e. low compression, for images, so little information is lost. This is in contrast to MATLAB's print and saveas functions, whose default quality settings are poor. For example:<br>
<br>
<div style="margin-left:40px"><code>A = im2double(imread('peppers.png'));</code><br>
<div><code>B = 
randn(ceil(size(A, 1)/6), ceil(size(A, 2)/6), 3) * 0.1;</code><br>
<code>B = 
cat(3, kron(B(:,:,1), ones(6)), kron(B(:,:,2), ones(6)), kron(B(:,:,3), 
ones(6)));</code><br>
<code>B = A + B(1:size(A, 1),1:size(A, 2),:);</code><br>
<code>imshow(B)</code><br>
<code>print -dpdf test.pdf</code><br>
<br>
</div>
</div>
<div>generates a PDF file, a sub-window of which looks (when zoomed in) like this:<br>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/peppers_bad.png?attredirects=0" imageanchor="1"></a>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/peppers_bad.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/peppers_bad.png"></a></div>
<br>
</div>
while the command <br>
</div>
<div style="margin-left:40px">
<div><br>
<code>export_fig test.pdf</code><br>
<br>
</div>
</div>
<div>on the same figure produces this:<br>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/peppers_good.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/peppers_good.png"></a></div>
<br>
While much better, the image still contains some compression artifacts (see the low level noise around the edge of the pepper). You may prefer to export with no artifacts at all, i.e. lossless compression. Alternatively, you might need a smaller file, and be willing to accept more compression. Either way, export_fig has an option that can suit your needs: <code>-q&lt;val&gt;</code>, where &lt;val&gt; is a number from 0-100, will set the level of lossy image compression (again in PDF, EPS and JPEG outputs only; other formats are lossless), from high compression (0) to low compression/high quality (100). If you want lossless compression in any of those formats then specify a &lt;val&gt; greater than 100. For example:<br>
<br>
<code><span>&nbsp;&nbsp; &nbsp;</span>export_fig test.pdf</code><code> -q101</code><br>
<br>
again on the same figure, produces this:<br>
<div style="display:block;text-align:center;margin-right:auto;margin-left:auto"><a href="https://sites.google.com/site/oliverwoodford/software/export_fig/peppers_lossless.png?attredirects=0" imageanchor="1"><img border="0" src="./Document_files/peppers_lossless.png"></a></div>
Notice that all the noise has gone.<br>
</div>
</div>
<div style="text-align:left"><br>
<u><b><font size="3">Tips</font></b></u><br>
<br>
<b>Anti-aliasing</b> - the anti-aliasing which export_fig applies to bitmap outputs by default makes the images look nice, but it can also blur images and increase exporting time and memory requirements, so you might not always want it. You can set the level of anti-aliasing by using the <code>-a&lt;val&gt;</code> option, where &lt;val&gt; is 1 (no anti-aliasing), 2, 3 (default) or 4 (maximum anti-aliasing).<br>
<br>
<b>Cropping</b> - by default, export_fig crops its output to minimize the amount of empty space around the figure. If you'd prefer the figure to be uncropped, and instead have the same appearance (in terms of border width) as the on screen figure, then use the <code>-nocrop</code> option.<br>
<br>
<b>Colourspace </b>- by default, export_fig generates files in the RGB <a href="http://en.wikipedia.org/wiki/Color_space" target="_blank" rel="nofollow">colourspace</a>. However, you can also export in greyscale or the CMYK colourspace, using the <code>-grey</code> (or <code>-gray</code>) and <code>-cmyk</code> options respectively. The CMYK option is useful for publishers who require documents in this colourspace, but the option is only supported for PDF, EPS and TIFF files.<br>
<br>
<b>Variable file names</b> - often you might want to save a series of figures in a for loop, each with a different name. For this you can use the functional form of input arguments, i.e. <span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>export_fig(arg1, arg2)</code></span>,&nbsp; and construct the filename string in a variable. Here's an example of this:<br>
</div>
<br>
<div style="margin-left:40px;font-family:courier new,monospace;color:rgb(0,0,255);text-align:left"><code>for a = 1:5</code><br>
</div>
<div style="margin-left:40px;font-family:courier new,monospace;color:rgb(0,0,255);text-align:left">
<div style="margin-left:40px"><code>plot(rand(5, 2));</code><br>
<code>export_fig(sprintf('plot%d.png', a));</code><br>
</div>
</div>
<div style="margin-left:40px;text-align:left"><span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>end</code></span><br></div><div style="text-align:left"><br>When using the functional form like this, be sure to put string variables in quotes:<br><br><div style="margin-left:40px"><code>export_fig</code><code>(sprintf('plot%d', a), '-a1', '-pdf', '-png');</code></div></div>
<br>
<div style="text-align:left"><b>Specifying the figure/axes</b> - if you have mutiple figures open you can specify which figure to export using its handle:<br>
</div>
<br>
<div style="margin-left:40px;text-align:left"><span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>export_fig(figure_handle,
 'filename.fmt');</code></span><br>
</div>
<br>
<div style="text-align:left">Equally, if your figure contains several subplots then you can export just one of them by giving export_fig the handle to the relevant axes:<br>
</div>
<br>
<div style="margin-left:40px;text-align:left"><span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>export_fig(axes_handle, 'filename.fmt');</code></span><br>
<br>
</div>
<div style="text-align:left"><b><span style="font-family:georgia,serif">Multiple formats</span></b> - save time by exporting to multiple formats simultaneously. E.g.:<br>
</div>
<br>
<div style="margin-left:40px;text-align:left"><font color="#0000ff"><font face="courier new,monospace"><code>export_fig filename -pdf -eps -png -jpg -tiff</code></font></font><br>
</div>
<div style="text-align:left">
<br>
<b>Other file formats</b> - if you'd like to save your figure to a 
bitmap format that is not supported by export_fig, e.g. animated GIF, PPM file 
or a frame in a movie, then you can use export_fig to output the image, 
and optionally an alpha-matte, to the workspace. E.g.:<br>
<br>
</div>
<div style="margin-left:40px;text-align:left"><span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>frame = export_fig;</code></span><br>
</div>
<div style="text-align:left">
or<br>
</div>
<div style="margin-left:40px;text-align:left"><span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>[frame alpha] = export_fig;</code></span><br>
<br>
</div>
<div style="text-align:left">
These variables can then be saved to other image formats using other 
functions, such as imwrite.<br>
<br>
<b>Appending to a file</b> - you can use the <span style="font-family:courier new,monospace;color:rgb(0,0,255)"><code>-append</code></span> option to append the figure to the end of an image/document, if it already exists. This is supported for PDF and TIFF files only. Note that if you wish to append a lot of figures consecutively to a PDF, it can be more efficient to save all the figures to PDF separately then append them all in one go at the end (e.g. using <a href="http://www.mathworks.com/matlabcentral/fileexchange/31215-appendpdfs" rel="nofollow">append_pdfs</a>).<br><br><b>Font size</b> - if you want to place an exported figure in a document with the font a particular size then you need to set the font to that size in the figure, and not resize the output of export_fig in the document. To avoid resizing, simply make sure that the on screen figure is the size you want the output to be in the document before exporting.<br>
<br>
<b>Renderers</b> - MATLAB has three renderers for displaying and exporting figures: painters, OpenGL and ZBuffer. The different renderers have different <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/creating_plots/f3-84337.html#f3-102410" target="_blank" rel="nofollow">features</a>, so if you aren't happy with the result 
from one renderer try another. By default, vector formats (i.e. PDF and EPS outputs) use the painters 
renderer, while other formats use the OpenGL renderer. Non-default renderers can be selected by 
using one of these three export_fig input options:<span style="color:rgb(0,0,255)"> </span><font face="courier  new,monospace"><span style="color:rgb(0,0,255)"><code>-painters</code></span><span style="font-family:georgia,serif">, </span><span style="color:rgb(0,0,255)"><code>-opengl</code></span><span style="font-family:georgia,serif">, </span><span style="color:rgb(0,0,255)"><code>-zbuffer</code></span><font face="georgia,serif">.</font></font><br>
<br>
<b>Artifacts</b> - sometimes the output that you get from export_fig is not what you expected. If an output file contains artifacts that aren't in the on screen figure then make sure that the renderer used for rendering the figure on screen is the same as that used for exporting. To set the renderer used to display the figure, use:<br>
<br>
</div>
<div style="margin-left:40px;text-align:left"><font face="courier new,monospace" style="color:rgb(0,0,255)"><code>set(figure_handle, 'Renderer', 'opengl');</code></font><br>
</div>
<div style="text-align:left"><br>
After matching the two renderers, if the artifact appears in the on screen figure then you'll need to fix that before exporting. Alternatively you can try changing the renderer used by export_fig. Finally check that it isn't one of the known issues mentioned in the 
section below.<br><br><b>Locating Ghostscript/pdftops</b> - You may find a dialogue box appears when using export_fig, asking you to locate either <a href="http://www.ghostscript.com/" rel="nofollow">Ghostscript</a> or <a href="http://www.foolabs.com/xpdf" rel="nofollow">pdftops</a>. These are separate applications which export_fig requires to perform certain functions. If such a dialogue appears it is because export_fig can't find the application automatically. This is because you either haven't installed it, or it isn't in the normal place. Make sure you install the applications correctly first. They can be downloaded from the following places:<br><span>&nbsp;&nbsp; &nbsp;</span>Ghostscript: <span>&nbsp;&nbsp; &nbsp;</span><a href="http://www.ghostscript.com/" rel="nofollow">www.ghostscript.com<br></a><span>&nbsp;&nbsp; &nbsp;</span>pdftops (install the Xpdf package): <a href="http://www.foolabs.com/xpdf" rel="nofollow"><span>&nbsp;&nbsp; &nbsp;</span>www.foolabs.com/xpdf</a><br>If you choose to install them in a non-default location then point export_fig to this location using the dialogue box.<br><br><b>Undefined function errors</b> - If you download and run export_fig and get an error similar to this:<br><br><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp; &nbsp;</span><span>&nbsp;&nbsp;&nbsp; </span><code>??? Undefined function or method 'print2array' for input arguments of type 'double'.
</code><br><br>then you are missing one or more of the files that come in the export_fig package. Make sure that you click the "Download All" button at the top-right of the download <a href="http://www.mathworks.co.uk/matlabcentral/fileexchange/23629-exportfig" rel="nofollow">page</a>, then extract all the files in the zip file to the same directory. You should then have all the necessary files.<br>
<br>
<u><b><font size="3">Known issues</font></b></u><br>
<br>
There are lots of problems with MATLAB's exporting functions, and unfortunately export_fig, which is simply a glorified wrapper for MATLAB's print function, doesn't solve all of them (yet?). Some of the problems I know about are:<br>
<br>
<b>Fonts</b> - when using the painters renderer, MATLAB can only export a small number of fonts, details of which can be found <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/creating_plots/f3-103191.html#f3-96545" target="_blank" rel="nofollow">here</a>. Export_fig attempts to correct font names in the resulting EPS file (for upto a maximum of 11 different fonts in one figure), but this is not always guaranteed to work.<br>
<br><b>Dashed contour lines appear solid</b> - when using the painters renderer, MATLAB cannot generate dashed lines using the <code>contour</code> function (either on screen or in exported PDF and EPS files). Details can be found <a href="http://www.mathworks.com/support/solutions/en/data/1-14PPHB/?solution=1-14PPHB" rel="nofollow">here</a>.<br><br>
<b><font size="2">Text size</font></b> - when using the OpenGL or ZBuffer renderers, large text can be resized relative to the figure when exporting at non-screen-resolution (including using anti-alising at screen resolution). This is a feature of MATLAB's print function.<br>
<br>
<b>Lighting and transparency</b>
- when using the painters renderer, transparency and lighting effects 
are not supported. Sorry, but this is a feature of the 
renderer. To find out more about the capabilities of each rendering 
method, see <a href="http://www.mathworks.com/access/helpdesk/help/techdoc/creating_plots/f3-84337.html#f3-102410" target="_blank" rel="nofollow">here</a>.<br><br><b>Lines in patch objects</b> - when exporting patch objects to PDF using the painters renderer (default), sometimes the output can appear to have lines across the middle of rectangular patches; these lines are the colour of the background, as if there is a crack in the patch, allowing you to see through. This issue is a feature of the software used to display the PDF, rather than the PDF itself. Sometimes disabling anti-aliasing in this software can get rid of the lines.<br><br><b>Out of memory</b> - if you run into memory issues when using export_fig,&nbsp; some ways to get round this are:<br><ol><li>Reduce the level of anti-aliasing.</li><li>Reduce the size of the on screen figure.</li><li>Reduce the resolution (dpi) the figure is exported at.<br></li></ol>
<br>
<b>Errors</b> - the other common type of errors people get with export_fig are OpenGL errors. This isn't a fault of export_fig, but either a bug in MATLAB's print, or your graphics driver getting itself into a state. Always make sure your graphics driver is up-to-date. If it still doesn't work, try using the ZBuffer renderer.<br>
<br><u><b><font size="3">Sending me bug reports</font></b></u><br><br>
If you think you have found a genuine error or issue with export_fig <b>that is not listed above</b>, first  ensure that the figure looks correct on screen when rendered using the 
renderer that export_fig is set to use (e.g. if exporting to PDF or EPS,
 does the figure look correct on screen using the painters renderer?). 
If it looks wrong then the problem is there, and I cannot help.<br><br>If the figure looks correct on screen, but an error exists in the exported output then please feel free to <a href="https://sites.google.com/site/oliverwoodford/contact-me">email me</a> a .fig file, the export_fig command you use, the output you get, and a description of what you expected. I can't promise anything, but if it's easy to fix I probably will do it. Often I will find that the error is due to a bug in MATLAB's print 
function, in which case I will suggest you submit it as a bug to 
TheMathWorks, and inform me of any fix they suggest. Also, if there's a feature you'd like that isn't supported please tell me what it is and I'll consider implementing it.<br>
</div>
</div></div></div></td></tr></tbody></table>
</div> 
</div> 
<div id="sites-canvas-bottom-panel">
<a xmlns="http://www.w3.org/1999/xhtml" name="page-comments"></a>
<div xmlns="http://www.w3.org/1999/xhtml" id="COMP_page-comments" style="display:none;" class="sites-canvas-bottom-no-items">
<div id="sites-comment-wrapper" class="sites-canvas-bottom-panel-wrapper">
<div>
<h3 id="sites-comment-header">
<strong>Comments</strong>
</h3>
</div>
<div id="sites-comment-inner" class="sites-comment-inner">
<div jotid="comments" class="sites-comments">
<div id="_wuid_" jotid="template" class="sites-comment" style="display:none">
<div><strong>_displayNameOrEmail_</strong> - _time_ - <a href="javascript:;" onclick="JOT_postEvent(&#39;removeComment&#39;, this, {wuid:&#39;_wuid_&#39;});">Remove</a></div>
<p dir="_dir_">_text_</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div> 
</td> 
</tr>
</tbody></table> 
</div> 
</div> 
<div id="sites-chrome-footer-wrapper">
<div id="sites-chrome-footer-wrapper-inside">
<div id="sites-chrome-footer">
</div>
</div>
</div>
</div> 
</div> 
<style xmlns="http://www.w3.org/1999/xhtml" type="text/css">
    .sites-system-link {
      margin-left: .5em;
      margin-right: .5em;
    }
  </style><div xmlns="http://www.w3.org/1999/xhtml" class="sites-adminfooter"><p><a class="sites-system-link" href="https://www.google.com/a/UniversalLogin?service=jotspot&continue=https://sites.google.com/site/oliverwoodford/software/export_fig">Sign in</a>|<a class="sites-system-link" href="https://sites.google.com/site/oliverwoodford/system/app/pages/recentChanges">Recent Site Activity</a>|<a class="sites-system-link" href="https://sites.google.com/site/oliverwoodford/system/app/pages/reportAbuse" target="_blank">Report Abuse</a>|<a class="sites-system-link" href="javascript:;" onclick="window.open(webspace.printUrl)">Print Page</a>|<a class="sites-system-link" href="https://sites.google.com/site/oliverwoodford/system/app/pages/removeAccess" target="_blank">Remove Access</a>|<span class="sites-system-link">Powered By</span> <b class="powered-by"><a href="http://sites.google.com/">Google Sites</a></b></p></div>
</div> 
</div> 
<div id="sites-chrome-onebar-footer">
</div>

<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('sjl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" src="./Document_files/jot_min_view__en_gb.js"></script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    window.jstiming.load.tick('jl');
  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
          var searchBox = new sites.Searchbox('sites-searchbox-search-button',
              true);
          searchBox.initListeners([], true, 'search-site',
              false);
          searchBox.setScopesMenu(webspace.page.isSiteRtlLocale);
        </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
      gsites.HoverPopupMenu.createSiteDropdownMenus('sites-header-nav-dropdown', false);
    </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
            JOT_setupNav("2bd", "Navigation", true);
            JOT_addListener('titleChange', 'JOT_NAVIGATION_titleChange', 'COMP_2bd');
          </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
  setTimeout(function() {
    var fingerprint = gsites.date.TimeZone.getFingerprint([]);
    gsites.Xhr.send('https://sites.google.com/site/oliverwoodford/_/tz', null, null, 'GET', null, null, { afjstz: fingerprint });
  }, 500);
</script>
<script xmlns="http://www.w3.org/1999/xhtml">
                    window.onload = function() {
                      if (false) {
                        JOT_setMobilePreview();
                      }
                      var loadTimer = window.jstiming.load;
                      loadTimer.tick("ol");
                      loadTimer["name"] = "load," + webspace.page.type;
                      window.jstiming.report(loadTimer, {}, 'https://gg.google.com/csi');
                    }
                  </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        JOT_insertAnalyticsCode(false);
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
        var maestroRunner = new gsites.pages.view.SitesMaestroRunner(
            webspace, "en_GB");
        maestroRunner.initListeners();
        maestroRunner.installEditRender();
      </script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript" defer="true">
  //<![CDATA[
    // Decorate any fastUI buttons on the page with a class of 'goog-button'.
    if (webspace.user.hasWriteAccess) {
      JOT_decorateButtons();
    }

    // Fires delayed events.
    (function() {
      JOT_fullyLoaded = true;
      var delayedEvents = JOT_delayedEvents;
      for (var x = 0; x < delayedEvents.length; x++) {
        var event = delayedEvents[x];
        JOT_postEvent(event.eventName, event.eventSrc, event.payload);
      }
      JOT_delayedEvents = null;
      JOT_postEvent('pageLoaded');
    })();
 //]]>
</script>
<script xmlns="http://www.w3.org/1999/xhtml" type="text/javascript">
    JOT_postEvent('decorateGvizCharts');
  </script>

<script type="text/javascript">
              sites.util.Plus.go('sites-chrome-main');
            </script>
<div id="server-timer-div" style="display:none"> </div>
<script>
          window.jstiming.load.tick('render');
        </script>


</body><style id="apn-body-style">html {    padding-top: 34px ! important;     border-top: 1px solid transparent; }</style></html>